@charset "UTF-8";


html { overflow-y: scroll; }                   

:root{
  --brand:#839FD1;
  --line:#E6EBF5;
  --text:#1f2937;
  --bg:#F7F9FC;
}

.chat-page{
	max-width: 1000px;         
	margin: 0 auto;
	padding: 16px 12px;
}
.chat-card{
	background:#fff;
	border:1px solid var(--line);
	border-radius:16px;
	box-shadow:0 6px 20px rgba(0,0,0,.06);
	display:flex;
	flex-direction:column;
	height: 70vh;             
	min-height: 520px;        
}

/* 헤더 */
.chat-header{
	padding:14px 16px;
	border-bottom:1px solid var(--line);
	display:flex; gap:12px; align-items:center;
}

.chat-dot{width:10px; height:10px; border-radius:50%; background:var(--brand);}
.chat-title{font-weight:700; letter-spacing:.2px; color:#5B76B2}
.chat-sub{font-size:.85rem; color:#667085}

/* 메시지 영역 */
.chat-scroll{
	flex:1;
	overflow-y:auto;
	padding:18px;
	scroll-behavior:smooth;
	scrollbar-gutter: stable both-edges;  /* 스크롤바로 인한 흔들림 방지 */
	background: var(--bg);
}

/* 한 줄(메시지) */
.msg{
	justify-content: flex-start;
  	display:flex;
  	align-items:flex-start;
  	gap:12px;
  	margin:12px 0;
  	width:100%;     
}

.msg.me{
	flex-direction: row-reverse;
	margin-left:auto;                   
	justify-content:flex-end;           
}

.msg > div:not(.avatar){
	flex: 1 1 auto;                      
	max-width: calc(100% - 108px);      
	min-width: 0;                        
	box-sizing: border-box;
}

/* .msg.me > div:not(.avatar) { text-align: right; } */

.avatar{
	width: 96px;                 
	min-width: 96px;
	height: 32px;
	padding: 0 8px;
	border-radius:10px;
	background:#EAF0FF;
	display:flex; align-items:center; justify-content:center;
	font-weight:800; color:#4B66A6;
	white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}

/* 말풍선 – 가로는 퍼센트 상한으로, 텍스트 줄바꿈 안정화 */
.bubble{
	padding:10px 12px;
	border-radius:14px;
	border:1px solid var(--line);
	line-height:1.5;
	box-sizing:border-box;
	max-width: 60%;              
	white-space: pre-wrap;
	word-break: keep-all;        
	overflow-wrap: anywhere;     
}

.msg.bot .bubble { margin-right: auto; border: 1px solid var(--color-main);}  /* 왼쪽으로 붙음 */
.msg.me  .bubble { margin-left:  auto; border: 1px solid var(--color-main);}  /* 오른쪽으로 붙음 */

.timestamp{ font-size:.75rem; line-height:1; color:#8B97A8; margin-top:4px; }

/* 입력창 */
.chat-composer{ border-top:1px solid var(--line); padding:12px; background:#fff; }
.composer-box{ display:flex; gap:10px; }
.composer-input{
	background:var(--bg);
	resize:none; min-height:44px; max-height:140px;
	padding:12px 14px; border:1px solid var(--line);
	border-radius:12px; flex:1; outline:none; transition:border .15s ease;
	box-shadow:inset 0 1px 0 rgba(0,0,0,.02);
}
.composer-input:focus{ border-color:var(--brand); }

.send-btn{
	min-width:96px; border-radius:12px;
	border:1px solid var(--brand) !important;
	background:var(--brand); color:#fff; font-weight:700;
}
.send-btn:disabled{ opacity:.6; }

/* 보조 구역 */
.util-row{ display:flex; align-items:center; justify-content:space-between; gap:8px; padding:6px 2px 0; }
.util-left{ display:flex; align-items:center; gap:8px; }
.chip{ font-size:.8rem; border:1px dashed #c9d2ea; padding:4px 8px; border-radius:10px; color:#5d6b8a; }

/* 타이핑 인디케이터 */
.typing{ display:inline-flex; gap:4px; align-items:center; }
.typing span{ width:6px; height:6px; background:#9DB0E6; border-radius:50%; display:inline-block; animation:blink 1.2s infinite ease-in-out; }
.typing span:nth-child(2){ animation-delay:.15s; }
.typing span:nth-child(3){ animation-delay:.3s; }
@keyframes blink{ 0%,80%,100%{opacity:.2} 40%{opacity:1} }

/* 반응형 */
@media (max-width: 768px){
	.chat-card{ height: 72vh; }
	.avatar{ width: 84px; min-width: 84px; }
	.bubble{ max-width: 86%; }
	.send-btn{ min-width: 64px; }
}
