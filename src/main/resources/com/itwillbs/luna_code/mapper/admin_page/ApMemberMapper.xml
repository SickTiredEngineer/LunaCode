<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.itwillbs.luna_code.mapper.admin_page.ApMemberMapper">
	
	<select id="countAllMember">
		select count(*) from member
		<where>
			<if test="q != null and q != ''">
				user_id like concat('%', #{q}, '%')
			</if>
		</where>
	</select>
	
	<select id="selectMemberList">
		select * 
		from member
		
		<where>
			<if test="q != null and q != ''">
				user_id like concat('%', #{q}, '%')
			</if>
		</where>
		limit #{start_row}, #{list_limit}
	</select>
	
	<select id="selectMemberDetail">
		select 
			idx
			,user_id
			,user_name
			,nickname
			,password
			,email
			,phone
			,profile_img
			,bio
		    ,birth
			,github_url
			,attendance_count
			,attendance_consecutive
			,attendance_last
			,member_type
			,certificate_01
			,certificate_02
			,certificate_03
		from member 
		where idx = #{idx}
	</select>
	
	<update id="modifyMemberType">
		update member
		set member_type = #{member_type}
		where idx = #{idx}
	</update>
	
	

</mapper>
